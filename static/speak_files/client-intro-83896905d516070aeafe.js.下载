!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/speak/public/",t(t.s=9)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.parseDate=function(e){var t=/^(\d{4})\-(\d{2})\-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\+|\-)(\d{4})$/,n=/^(\d{4})\-(\d{2})\-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/;return t.test(e)?new Date([e.slice(0,22),":",e.slice(22)].join("")):n.test(e)?new Date(e.replace("T"," ")):new Date(e)},o=t.pad=function(e,t,n){return e.length>=t?e:new Array(t-e.length+1).join(n)+e},a=(t.formatDate=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-DD",n="日_一_二_三_四_五_六".split("_"),a=r(e),i={Y:a.getFullYear(),y:a.getFullYear(),M:a.getMonth()+1,D:a.getDate(),d:a.getDay(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds(),S:a.getMilliseconds()};return t.replace(/([YyMDdhmsS])+/g,function(e,t){var r=i[t],a=e.length;return void 0===r?e:(r=r.toString(),"d"===e?n[r]:a>r.length?o(r,a,0):"y"===t||"Y"===t?r.substr(r.length-a):r)})},t.trimString=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return e.length<=t?e:e.slice(0,t)+n},t.formatSafetyStr=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"*";e=e.toString();var o=e.length-t-n;if(o<0)return e;var a=new Array(o+1).join(r);return[e.slice(0,t),a,n<=0?"":e.slice(-n)].join("")});t.formatSafetyEmail=function(e,t,n,r){var o=e.toString();return t=Number(t)||Math.floor(1*o.length/4),n=Number(n)||Math.floor(1*o.length/4),a(o,t,n,r)},t.formatSafetyMobilephone=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,r=arguments[3];return a(e,t,n,r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=arguments,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=t.assertString=function(e){if("string"!=typeof e)throw new TypeError("This library (validator.js) validates strings only")},i=t.toString=function(e){return"object"===(void 0===e?"undefined":o(e))&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null===e||void 0===e||isNaN(e)&&!e.length)&&(e=""),String(e)};t.merge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return Object.keys(t).forEach(function(n){void 0===e[n]&&(e[n]=t[n])}),e},t.isStandardBrowserEnv=function(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement},t.isFunction=function(e){return"[object Function]"===Object.prototype.toString.call(e)},t.isWechatUA=function(e){return/micromessenger/i.test(e)},t.isMobileUA=function(e){return/Mobile|iP(hone|od|ad)|Android|BlackBerry/i.test(e)},t.isAndroidUA=function(e){return/(android)/i.test(e)},t.isIOSUA=function(e){return/iPad|iPhone|iPod/i.test(e)},t.isShanbayAppUA=function(e){return/com\.shanbay/.test(e.toLowerCase())},t.isMobilePhone=function(e){var t=i(e),n={"zh-CN":/^(\+?0?86\-?)?1[345789]\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/};return n["zh-CN"].test(t)||n["zh-TW"].test(t)},t.isEmail=function(e){return a(e),/^(([^<>()\[\]\\.,;:\s@']+(\.[^<>()\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},t.isUrl=function(e){return a(e),new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},t.escapeStr=function(e){return a(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")},t.unescapeStr=function(e){return a(e),e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#96;/g,"`")},t.isStrLength=function(e,t){a(e);var n=void 0,i=void 0;"object"===(void 0===t?"undefined":o(t))?(n=t.min||0,i=t.max):(n=r[1],i=r[2]);var c=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],u=e.length-c.length;return u>=n&&(void 0===i||u<=i)},t.isJSON=function(e){a(e);try{var t=JSON.parse(e);return!!t&&"object"===(void 0===t?"undefined":o(t))}catch(e){}return!1},t.isNumeric=function(e){var t=/^[-+]?[0-9]+$/;return a(e),t.test(e)},t.isEmptyStr=function(e){return a(e),0===e.length},t.isEmptyObj=function(e){return!Object.keys(e).length},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=(t.DOMAIN=".shanbay.com",t.HOST_URL="www.shanbay.com",t.BASE_URL="https://www.shanbay.com");t.STATIC_URL="https://static.baydn.com",t.OSS_SECURE=!0,t.MEDIA_CODE="web",t.PICTURE_CODE="speaking_pub_image",t.API_PREFIX=o+"/api/v2/speak",t.API_PREFIX_ADMIN=o+"/api/v2/speak/admin",t.API_PREFIX_SERIES_ADMIN=o+"/api/v2/speak/admin/series",t.SHANBAY_PREFIX_V2=o+"/api/v2",t.SHANBAY_PREFIX_V1=o+"/api/v1",t.LOGIN_URL=o+"/web/account/login",t.CODE_LESSON_VIDEO="speak_pri_video",t.CODE_LESSON_BGM="speak_pri_audio"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(1);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(5);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var i=n(6);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.APP_NAME="speak",t.IPP=10,t.IPP_BIGGER=20,t.MIN_TITLE_LEN=3,t.MAX_IPP=1e3,t.PART_SIZE=1048576,t.BAYDN_URL="https://static.baydn.com/baydn/public",t.DUBBER_IMAGE_TYPE=1,t.DUBBER_VOICE_TYPE=2,t.LISTEN_INTRO_AUDIO_CODE="speak_lesson_intro_audio",t.LISTEN_BGM_CODE="speak_lesson_bgm",t.DUBBER_VOICE_AUDIO_CODE="speak_dubber_voice_audio",t.UPLOAD_DUBBER_ZIP_CODE="speaking_upload_dubber_zip",t.ERROR_HINT="请求失败，稍后重试",t.FETCH_COURSES_HINT="正在加载课程列表...",t.FETCH_COURSE_HINT="正在加载课程...",t.FETCH_UNITS_HINT="正在加载单元列表...",t.FETCH_UNIT_HINT="正在加载单元...",t.UPLOADING_DATA_HINT="正在导入数据，耐心等候...",t.FETCH_DUBBERS_HINT="正在加载角色列表...",t.FETCH_DUBBER_HINT="正在加载角色数据...",t.FETCH_LESSONS_HINT="正在加载 lesson 数据...",t.FETCH_SENTENCES_HINT="正在加载句子列表...",t.SENTENCE_AUDIO_CODE="speaking_upload_sentence_audio",t.SENTENCE_TITLE_AUDIO_CODE="speaking_upload_sentence_title_audio",t.UPLOAD_COURSE_CODE="speaking_upload_zip",t.AUDIO_TYPE="mp3",t.PICTURE_TYPE="png",t.ZIP_TYPE="zip"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countDownBtn=t.lazyloadImage=t.copyToClipboard=t.selectElement=t.clearFormData=t.getFormData=t.removeClass=t.addClass=t.hasClass=void 0;var r=n(1),o=t.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},a=t.addClass=function(e,t){e.classList?e.classList.add(t):o(e,t)||(e.className+=" "+t)},i=t.removeClass=function(e,t){if(e.classList)e.classList.remove(t);else if(o(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}},c=(t.getFormData=function(e){var t={},n=e.querySelectorAll("input, textarea");return Array.prototype.slice.call(n).forEach(function(e){var n=e.getAttribute("name"),r=e.getAttribute("type"),o=e.value;return!n||"radio"===r&&!e.checked?null:("radio"===r&&(o="true"===o||o,o="false"!==o&&o),"checkbox"===r&&(o=e.checked),"number"===r&&(o=~~o),t[n]=o,null)}),t},t.clearFormData=function(e){var t=e.querySelectorAll("input, textarea");Array.prototype.slice.call(t).forEach(function(e){e.value=null})},t.selectElement=function(e){if(document.selection){var t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){var n=document.createRange();n.selectNode(e),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}),u=(t.copyToClipboard=function(e){var t=document.createElement("div");t.textContent=e,document.body.appendChild(t),c(t),document.execCommand("copy"),t.remove()},t.lazyloadImage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=window.requestAnimationFrame||window.webkitRequestAnimationFrame,n=document.querySelectorAll("img[data-src]"),r=function(e){if(!e.getAttribute("loaded")){var t=e.getAttribute("data-src");e.setAttribute("src",t),e.setAttribute("loaded",!0)}},o=function(){Array.prototype.slice.call(n).forEach(function(n){t(function(){var t=n.getBoundingClientRect().top,o=window.innerHeight;t-e<o&&r(n)})})};window.addEventListener("scroll",o,!1),window.addEventListener("load",o,!1)},function(e,t){t?(i(e,"disable"),e.setAttribute("disabled",!1)):(a(e,"disable"),e.setAttribute("disabled",!0))});t.countDownBtn=function(e,t){var n={time:60,getProcessText:function(e){return e+"s后重发"},endText:"重新获取验证码"};t=(0,r.merge)(t,n),e.innerText=t.getProcessText(t.time),u(e,!1);var o=t.time,a=window.setInterval(function(){o>0?(o-=1,e.innerText=t.getProcessText(o)):(window.clearInterval(a),e.innerText=t.endText,u(e,!0))},1e3);return a}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.transformUrlToAnchor=t.uniqArr=t.getUrlsFromStr=t.getFrontendVersion=t.getDayDiff=t.ajax=t.getCookie=t.getSearchValue=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(0),i=(t.getSearchValue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=e.replace(/[[\]]/g,"\\$&"),r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),o=r.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g,"")):"":null},t.getCookie=function(e,t){var n="; "+t+"=(\\w+)",r=new RegExp(n,"g"),o=r.exec("; "+e);return o&&o[1]}),c=(t.ajax=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments[2];$.support.cors=!0;var r=$.extend({},{LOGIN_URL:"/web/account/login"},n),a={contentType:"application/json",crossDomain:!0,xhrFields:{withCredentials:!0},headers:{"X-CSRFToken":i(document.cookie,"csrftoken")}},c={success:function(t){401===t.status_code||403===t.status_code?window.location.href=r.LOGIN_URL+"/?next="+location.pathname+location.search:0===t.status_code?e.success&&e.success(t.data):e.error&&e.error(t.status_code,t.msg||"请求失败，请稍后重试")},error:function(t,n){e.error&&e.error(t.status,n+"("+t.status+")")}};e.type=e.type||"GET",e.data&&"object"===o(e.data)&&"GET"!==e.type&&(e.data=JSON.stringify(e.data)),t?$.ajax($.extend({},a,e)):$.ajax($.extend({},a,e,c))},t.getDayDiff=function(e,t){var n=new Date((0,a.formatDate)(e)),r=new Date((0,a.formatDate)(t));return Math.floor((new Date(r)-new Date(n))/864e5)},t.getFrontendVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,t=e.match(/Frontend\/(\d+).(\d+)/gi);return t&&t.length?parseFloat(t[0].replace(/Frontend\//gi,"")):null},t.getUrlsFromStr=function(e){var t=new RegExp("https?:\\/\\/[-A-Za-z0-9+&@#\\/%?=~_|!:,.;]+[-A-Za-z0-9+&@#\\/%=~_|]","ig");return e.match(t)}),u=t.uniqArr=function(e){return[].concat(r(new Set(e)))};t.transformUrlToAnchor=function(e){var t=e;return u(c(e)).forEach(function(e){var n="<a href='"+e+"' target='_blank'>"+e+"</a>";t=t.replace(new RegExp(""+e,"gi"),n)}),t}},,,function(e,t,n){"use strict";var r=n(3),o=n(2),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o);$(function(){function e(e,n){n.forEach(function(n){n.cover_url=n.cover_urls[0];var r=Hogan.compile(t).render(n);e.append(r)})}var t=$("#t-course").html(),n=$(".load-more-btn"),o=$(".hide-more-btn");n.on("click",function(t){var n=$(t.currentTarget);n.hide(),n.siblings(".hide-more-btn").show();var o=n.closest(".category-item").find(".course-items"),i=o.find(".course-item"),c=n.data("category-id");i.length>2?i.removeClass("hide"):(0,r.ajax)({url:a.API_PREFIX+"/categories/"+c+"/courses/?page=1&ipp="+a.MAX_IPP,type:"GET",success:function(t){e(o,t.objects.slice(2))}})}),o.on("click",function(e){var t=$(e.currentTarget);t.hide(),t.siblings(".load-more-btn").show(),t.closest(".category-item").find(".course-items").find(".course-item").slice(2).addClass("hide")})})}]);